<!-- src/app/app.component.html -->
<div class="container mt-5">
  <form (submit)="onSubmit(searchByNameInput.value); $event.preventDefault()">
    <div class="row">
      <div class="col-10">
        <input type="number" class="form-control mb-2" #searchByNameInput placeholder="Search any Anime by ranking">
      </div>
      <div class="col">
        <button type="submit" class="btn btn-primary mb-2">Search</button>
      </div>
    </div>
  </form>
  <h2>Anime List</h2>
  <!-- Anime Table -->
  <table class="table table-bordered table-hover" *ngIf="filteredAnimeList.length > 0">
    <thead class="thead-dark">
      <tr>
        <th>Title</th>
        <th>Type</th>
        <th>Episodes</th>
        <th>Ranking</th>
        <th>Genre</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let anime of filteredAnimeList">
        <td>{{ anime.title }}</td>
        <td>{{ anime.type }}</td>
        <td>{{ anime.episodes }}</td>
        <td>{{ anime.ranking }}</td>
        <td><span *ngFor="let genre of anime.genres; let i = index">
          {{ genre }}<span *ngIf="i < anime.genres.length - 1">, </span>
        </span></td>
      </tr>
    </tbody>
  </table>

  <div *ngIf="filteredAnimeList.length === 0">
    No data available.
  </div>

  <!-- Pagination Controls -->
  <div class="mb-3 text-center">
    <button class="btn btn-dark" (click)="changePage(page - 1)" [disabled]="page === 1">Prev</button>
    <span class="mx-3">Page {{ page }}</span>
    <button class="btn btn-dark" (click)="changePage(page + 1)">Next</button>
  </div>
</div>
